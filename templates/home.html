<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scan Trash</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <style>
      :root {
        --success-green: #198754;
      }

      .border-success-theme {
        border: 5px solid var(--success-green) !important;
      }

      .btn-success-theme {
        background-color: var(--success-green) !important;
        border-color: var(--success-green) !important;
        color: #fff !important;
        transition: 0.3s;
      }

      .btn-success-theme:hover {
        background-color: #157347 !important;
        border-color: #157347 !important;
      }

      /* ✅ Force transparency everywhere in logs container */
      #dataLogsContainer,
      #dataLogsContainer table,
      #dataLogsContainer thead,
      #dataLogsContainer tbody,
      #dataLogsContainer tr,
      #dataLogsContainer th,
      #dataLogsContainer td {
        background-color: transparent !important;
        backdrop-filter: none !important;
        box-shadow: none !important;
      }

      /* ✅ Force text color to be light */
      #dataLogsContainer th,
      #dataLogsContainer td {
        color: #f8f9fa !important; /* Bootstrap 'text-light' */
      }

      /* Optional: make sticky header remain at top */
      #dataLogsContainer thead {
        position: sticky;
        top: 0;
      }

      /* Scrollbar styling */
      #dataLogsContainer {
        scrollbar-width: thin;
        scrollbar-color: var(--success-green) transparent;
      }

      #dataLogsContainer::-webkit-scrollbar {
        width: 6px;
      }

      #dataLogsContainer::-webkit-scrollbar-thumb {
        background-color: var(--success-green);
        border-radius: 10px;
      }

      /* Hover highlight (optional subtle green glow) */
      #dataLogsContainer tbody tr:hover td {
        color: #00e396 !important;
      }
    </style>
  </head>
  <body class="bg-dark">
    {% include 'nav.html' %}

    <div class="container py-5">
      <div class="row">
        <!-- Left Side -->
        <div class="col-12 col-md-6 mb-5">
          <h3 class="text-light mb-3">Scan item:</h3>
          <div
            class="rounded-5 d-flex justify-content-center align-items-center border-success-theme"
            style="height: 100px"
          >
            <h3 id="scanData" class="text-center text-light m-0">
              Scanning...
            </h3>
          </div>

          <h3 class="text-light mt-4 mb-2">Scanning Camera</h3>
          <div id="webcam-container"></div>
          <canvas id="canvas"></canvas>

          <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>
        </div>

        <!-- Right Side -->
        <div class="col-12 col-md-6">
          <h3 class="text-light mb-3">Scan Logs</h3>
          <button id="connect-btn" class="btn btn-success-theme w-100 mb-3">
            <i class="bi bi-usb-drive me-2"></i>Connect Arduino
          </button>

          <div id="dataLogsContainer" style="height: 700px; overflow-y: auto">
            <table class="table table-borderless align-middle text-light">
              <tbody id="dataLogs"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    {% include 'script.html' %}
  </body>
</html>
