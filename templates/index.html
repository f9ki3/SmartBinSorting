<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edge Impulse Object Detection</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body style="background-color: rgb(14, 14, 14)">
    <div class="sticky-top">
      <div style="background-color: green" class="p-3">
        <div class="container">
          <h3 class="text-light fw-bolder">Waste Sorting Trash Bin</h3>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row mt-5">
        <div class="col-12 col-md-6">
          <div class="row">
            <div class="col-12 col-md-12">
              <h3 style="margin-top: auto" class="text-light">Scan item:</h3>
              <div
                class="rounded-5 d-flex justify-content-center align-items-center"
                style="height: 100px; border: 5px solid green"
              >
                <h3 id="scanData" class="text-center text-light">
                  Scanning...
                </h3>
              </div>
            </div>
            <div class="col-12 col-md-12">
              <h3 class="text-light mt-3">Scanning Camera</h3>
              <div id="webcam-container"></div>
              <canvas id="canvas"></canvas>

              <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
              <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>
              <script type="text/javascript"></script>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-6">
          <h3 class="text-light">Data Input</h3>
          <input
            type="text"
            id="inputData"
            class="form-control"
            placeholder="Enter type of trash"
          />
          <button
            class="btn btn-success mb-3 mt-3 w-100"
            onclick="sendData($('#inputData').val())"
          >
            Submit Trash
          </button>

          <h3 class="text-light">Scan Logs</h3>
          <div style="height: 700px; overflow: auto">
            <table class="text-light" style="width: 100%">
              <thead class="sticky-top bg-dark">
                <tr>
                  <th style="width: 50%">Date</th>
                  <th style="width: 50%">Type of Object</th>
                </tr>
              </thead>
              <tbody id="dataLogs"></tbody>
            </table>
          </div>
        </div>

        <div class="col-12">
          <h1 class="text-light">Dashboards</h1>

          <!-- Donut Charts -->
          <div class="row">
            <div class="col-3">
              <div id="donut-plastic"></div>
              <p class="text-light text-center">Plastic</p>
            </div>
            <div class="col-3">
              <div id="donut-paper"></div>
              <p class="text-light text-center">Paper</p>
            </div>
            <div class="col-3">
              <div id="donut-metal"></div>
              <p class="text-light text-center">Metal</p>
            </div>
            <div class="col-3">
              <div id="donut-general"></div>
              <p class="text-light text-center">General</p>
            </div>
          </div>

          <!-- Bar Chart -->
          <div class="mt-4">
            <div id="bar-chart"></div>
          </div>
        </div>
      </div>
    </div>

    {% include 'script.html' %}
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
